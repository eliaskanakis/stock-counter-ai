{"version":3,"sources":["MobileObjectLocalizer.js","Home.js","LiveCamera.js","logo.svg","App.js","reportWebVitals.js","index.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","exports","__esModule","ObjectDetection","load","tfconv","require","tf","config","base","modelUrl","objectDetection","_a","Error","indexOf","modelPath","prototype","zeroTensor","_b","loadGraphModel","model","zeros","executeAsync","all","map","data","dispose","infer","img","maxNumBoxes","minScore","batched","height","width","numDetections","detectionBoxes","detectionScores","prevBackend","tidy","Tensor","expandDims","imageTensor","browser","fromPixels","image","resizeBilinear","cast","div","scalar","shape","offsetHeight","offsetWidth","dataSync","getBackend","setBackend","buildDetectedObjects","boxes","scores","count","objects","i","bbox","j","minY","minX","maxY","maxX","score","detect","Home","LiveCamera","videoElement","useRef","canvasElement","useState","objLocalizer","modelPromise","setModelPromise","setError","setImageCapture","a","current","c","context","getContext","clearRect","font","console","log","beginPath","rect","lineWidth","strokeStyle","fillStyle","stroke","fillText","toFixed","class","useEffect","navigator","mediaDevices","getUserMedia","audio","video","facingMode","stream","autoplay","playsinline","srcObject","ImageCapture","getVideoTracks","catch","error","message","interval","setInterval","clearInterval","className","ref","onClick","id","App","to","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.544afbac.chunk.js","sourcesContent":["\"use strict\";\r\n/**\r\n * @license\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nexports.__esModule = true;\r\nexports.ObjectDetection = exports.load = void 0;\r\nvar tfconv = require(\"@tensorflow/tfjs-converter\");\r\nvar tf = require(\"@tensorflow/tfjs-core\");\r\nfunction load(config) {\r\n    if (config === void 0) { config = {}; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var base, modelUrl, objectDetection;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (tf == null) {\r\n                        throw new Error(\"Cannot find TensorFlow.js. If you are using a <script> tag, please \" +\r\n                            \"also include @tensorflow/tfjs on the page before using this model.\");\r\n                    }\r\n                    base = config.base || 'lite_mobilenet_v2';\r\n                    modelUrl = config.modelUrl;\r\n                    if (['mobilenet_v1', 'mobilenet_v2', 'lite_mobilenet_v2'].indexOf(base) ===\r\n                        -1) {\r\n                        throw new Error(\"ObjectDetection constructed with invalid base model \" +\r\n                            (base + \". Valid names are 'mobilenet_v1',\") +\r\n                            \" 'mobilenet_v2' and 'lite_mobilenet_v2'.\");\r\n                    }\r\n                    objectDetection = new ObjectDetection(base, modelUrl);\r\n                    return [4 /*yield*/, objectDetection.load()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/, objectDetection];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.load = load;\r\nvar ObjectDetection = /** @class */ (function () {\r\n    function ObjectDetection(base, modelUrl) {\r\n        this.modelPath =\r\n            \"https://storage.googleapis.com/tfhub-visualizers/google/object_detection/mobile_object_localizer_v1/1/model.json\";\r\n    }\r\n    ObjectDetection.prototype.load = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, zeroTensor, result;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this;\r\n                        return [4 /*yield*/, tfconv.loadGraphModel(this.modelPath)];\r\n                    case 1:\r\n                        _a.model = _b.sent();\r\n                        zeroTensor = tf.zeros([1, 192, 192, 3], 'float32');\r\n                        return [4 /*yield*/, this.model.executeAsync(zeroTensor)];\r\n                    case 2:\r\n                        result = _b.sent();\r\n                        return [4 /*yield*/, Promise.all(result.map(function (t) { return t.data(); }))];\r\n                    case 3:\r\n                        _b.sent();\r\n                        result.map(function (t) { return t.dispose(); });\r\n                        zeroTensor.dispose();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Infers through the model.\r\n     *\r\n     * @param img The image to classify. Can be a tensor or a DOM element image,\r\n     * video, or canvas.\r\n     * @param maxNumBoxes The maximum number of bounding boxes of detected\r\n     * objects. There can be multiple objects of the same class, but at different\r\n     * locations. Defaults to 20.\r\n     * @param minScore The minimum score of the returned bounding boxes\r\n     * of detected objects. Value between 0 and 1. Defaults to 0.5.\r\n     */\r\n    ObjectDetection.prototype.infer = function (img, maxNumBoxes, minScore) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var batched, height, width, result, numDetections, detectionBoxes, detectionScores, prevBackend;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        batched = tf.tidy(function () {\r\n                            if (!(img instanceof tf.Tensor)) {\r\n                                var imageTensor = tf.browser.fromPixels(img);\r\n                                imageTensor = tf.image.resizeBilinear(imageTensor, [192, 192]);\r\n                                var t = tf.cast(tf.div(imageTensor, tf.scalar(255)), 'float32');\r\n                                // Reshape to a single-element batch so we can pass it to executeAsync.\r\n                                return tf.expandDims(t);\r\n                            }\r\n                            else {\r\n                                return tf.expandDims(img);\r\n                            }\r\n                        });\r\n                        height = batched.shape[1];\r\n                        width = batched.shape[2];\r\n                        if (!(img instanceof tf.Tensor)) {\r\n                            height = img.offsetHeight;\r\n                            width = img.offsetWidth;\r\n                        }\r\n                        return [4 /*yield*/, this.model.executeAsync(batched, [\r\n                                'num_detections', 'detection_boxes',\r\n                                'detection_scores', 'detection_classes'\r\n                            ])];\r\n                    case 1:\r\n                        result = _a.sent();\r\n                        return [4 /*yield*/, result[0].dataSync()];\r\n                    case 2:\r\n                        numDetections = _a.sent();\r\n                        return [4 /*yield*/, result[1].dataSync()];\r\n                    case 3:\r\n                        detectionBoxes = _a.sent();\r\n                        return [4 /*yield*/, result[2].dataSync()];\r\n                    case 4:\r\n                        detectionScores = _a.sent();\r\n                        // clean the webgl tensors\r\n                        batched.dispose();\r\n                        tf.dispose(result);\r\n                        prevBackend = tf.getBackend();\r\n                        // run post process in cpu\r\n                        if (tf.getBackend() === 'webgl') {\r\n                            tf.setBackend('cpu');\r\n                        }\r\n                        // restore previous backend\r\n                        if (prevBackend !== tf.getBackend()) {\r\n                            tf.setBackend(prevBackend);\r\n                        }\r\n                        return [2 /*return*/, this.buildDetectedObjects(width, height, numDetections[0], detectionBoxes, detectionScores)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ObjectDetection.prototype.buildDetectedObjects = function (width, height, numDetections, boxes, scores) {\r\n        var count = numDetections;\r\n        var objects = [];\r\n        for (var i = 0; i < count; i++) {\r\n            if (scores[i] < 0.2)\r\n                continue;\r\n            var bbox = [];\r\n            for (var j = 0; j < 4; j++) {\r\n                bbox[j] = boxes[i * 4 + j];\r\n            }\r\n            var minY = bbox[0] * height;\r\n            var minX = bbox[1] * width;\r\n            var maxY = bbox[2] * height;\r\n            var maxX = bbox[3] * width;\r\n            bbox[0] = minX;\r\n            bbox[1] = minY;\r\n            bbox[2] = maxX - minX;\r\n            bbox[3] = maxY - minY;\r\n            objects.push({\r\n                bbox: bbox,\r\n                \"class\": '',\r\n                score: scores[i]\r\n            });\r\n        }\r\n        return objects;\r\n    };\r\n    /**\r\n     * Detect objects for an image returning a list of bounding boxes with\r\n     * assocated class and score.\r\n     *\r\n     * @param img The image to detect objects from. Can be a tensor or a DOM\r\n     *     element image, video, or canvas.\r\n     * @param maxNumBoxes The maximum number of bounding boxes of detected\r\n     * objects. There can be multiple objects of the same class, but at different\r\n     * locations. Defaults to 20.\r\n     * @param minScore The minimum score of the returned bounding boxes\r\n     * of detected objects. Value between 0 and 1. Defaults to 0.5.\r\n     */\r\n    ObjectDetection.prototype.detect = function (img, maxNumBoxes, minScore) {\r\n        if (maxNumBoxes === void 0) { maxNumBoxes = 20; }\r\n        if (minScore === void 0) { minScore = 0.5; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.infer(img, maxNumBoxes, minScore)];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Dispose the tensors allocated by the model. You should call this when you\r\n     * are done with the model.\r\n     */\r\n    ObjectDetection.prototype.dispose = function () {\r\n        if (this.model != null) {\r\n            this.model.dispose();\r\n        }\r\n    };\r\n    return ObjectDetection;\r\n}());\r\nexports.ObjectDetection = ObjectDetection;\r\n","import React from 'react';\r\n\r\nfunction Home(){\r\n    return (<div>Home page under construction</div>);\r\n}\r\n\r\nexport default Home;","import {useRef, useEffect, useState} from 'react';\r\nimport '@tensorflow/tfjs-backend-cpu';\r\nimport '@tensorflow/tfjs-backend-webgl';\r\nimport * as objLocalizer from './MobileObjectLocalizer';\r\n\r\nimport './LiveCamera.css';\r\n\r\nfunction LiveCamera(){\r\n    const videoElement = useRef(null);\r\n    const canvasElement = useRef(null);\r\n    const [modelPromise,setModelPromise] = useState(objLocalizer.load())\r\n    const [error, setError] = useState(null);\r\n    const [imageCapture, setImageCapture] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setModelPromise(objLocalizer.load());\r\n        navigator.mediaDevices.getUserMedia({\r\n            audio: false,\r\n            video: {\r\n                facingMode: \"environment\" \r\n              }\r\n        }).then((stream) => {\r\n            if (!videoElement || !videoElement.current) return;\r\n            videoElement.current.autoplay = true;\r\n            videoElement.current.playsinline = true;\r\n            videoElement.current.srcObject = stream;\r\n            setImageCapture(new ImageCapture(stream.getVideoTracks()[0]));\r\n        }).catch(error => {\r\n            setError(error.message);\r\n        });\r\n    }, []); \r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(async () => {\r\n            if (!videoElement || !videoElement.current) return;\r\n            const model = await modelPromise;\r\n            const result = await model.detect(videoElement.current);\r\n            \r\n            //const c = document.getElementById('canvas');        \r\n            const c=canvasElement.current;\r\n            const context = c.getContext('2d');\r\n            context.clearRect(0, 0, c.width, c.height);\r\n            c.width=videoElement.current.offsetWidth;\r\n            c.height=videoElement.current.offsetHeight;\r\n            context.font = '10px Arial';\r\n          \r\n            console.log('number of detections: ', result.length);\r\n            for (let i = 0; i < result.length; i++) {\r\n              context.beginPath();\r\n              context.rect(...result[i].bbox);\r\n              context.lineWidth = 1;\r\n              context.strokeStyle = 'green';\r\n              context.fillStyle = 'green';\r\n              context.stroke();\r\n              context.fillText(\r\n                result[i].score.toFixed(3) + ' ' + result[i].class, result[i].bbox[0],\r\n                result[i].bbox[1] > 10 ? result[i].bbox[1] - 5 : 10);\r\n            }    \r\n        }, 1000);\r\n        return () => clearInterval(interval);\r\n      }, [modelPromise]);\r\n\r\n    async function onShotButtonClick(){          \r\n        const model = await modelPromise;\r\n        const result = await model.detect(videoElement.current);\r\n        \r\n        //const c = document.getElementById('canvas');        \r\n        const c=canvasElement.current;\r\n        const context = c.getContext('2d');\r\n        context.clearRect(0, 0, c.width, c.height);\r\n        c.width=videoElement.current.offsetWidth;\r\n        c.height=videoElement.current.offsetHeight;\r\n        context.font = '10px Arial';\r\n      \r\n        console.log('number of detections: ', result.length);\r\n        for (let i = 0; i < result.length; i++) {\r\n          context.beginPath();\r\n          context.rect(...result[i].bbox);\r\n          context.lineWidth = 1;\r\n          context.strokeStyle = 'green';\r\n          context.fillStyle = 'green';\r\n          context.stroke();\r\n          context.fillText(\r\n            result[i].score.toFixed(3) + ' ' + result[i].class, result[i].bbox[0],\r\n            result[i].bbox[1] > 10 ? result[i].bbox[1] - 5 : 10);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <video className=\"video\" ref={videoElement}></video>\r\n            <button className=\"shotButton\" onClick={onShotButtonClick}></button>\r\n            <canvas id=\"canvas\" ref={canvasElement}></canvas>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default LiveCamera;","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport Home from './Home';\nimport LiveCamera from './LiveCamera';\n\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/live-camera\">Live Camera</Link>\n            </li>\n          </ul>\n        </nav>\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/live-camera\">\n            <LiveCamera />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}